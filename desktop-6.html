<!DOCTYPE html>
<html>
<head>
      <meta charset="utf-8">
      <meta name="viewport" content="initial-scale=1, width=device-width">
      
      <link rel="stylesheet" href="styles/desktop6.css" />
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Julius Sans One:wght@400&display=swap" />
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Miriam Libre:wght@600&display=swap" />
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Karma:wght@400&display=swap" />
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" />
</head>
<body>
      <div class="desktop-6">
            <!-- Logo positioned on right side -->
            <img class="adobe-express-file-1" alt="" src="img/logo.png">
            
            <!-- Sidebar -->
            <div class="sidebar">
                  <img class="vector-icon" alt="" src="img/Vector.svg">
                  
                  <!-- Logo and brand -->
                  <div class="brand-section">
                    <div class="curely">Curely</div>
                  </div>
                  
                  <!-- Navigation menu -->
                  <nav class="nav-menu">
                    <a href="desktop-3.html" class="nav-item" data-page="dashboard">
                          <span>DASHBOARD</span>
                    </a>
                    <a href="desktop-4.html" class="nav-item" data-page="appointments">
                          <span>APPOINTMENTS</span>
                    </a>
                    
                    <a href="desktop-5.html" class="nav-item" data-page="prescriptions">
                          <span>PRESCRIPTIONS</span>
                    </a>
                    <a href="desktop-6.html" class="nav-item active" data-page="reports">
                          <span>REPORTS</span>
                    </a>
                  </nav>
                  
                  <!-- Settings -->
                  <div class="settings">
                    <img class="icon" alt="" src="img/Settings.svg">
                  </div>
            </div>
            
            <!-- Main content area -->
            <div class="main-content">
                  <!-- Header -->
                  <header class="header">
                    <h1 class="welcome-dr-xyz">WELCOME DR Kulkarni</h1>
                    <div class="date-time" id="currentDateTime"></div>
                  </header>
                  
                  <!-- Reports content -->
                  <div class="reports-content">
                    <div class="page-header">
                          <h2 class="page-title">PATIENT REPORTS</h2>
                          <div class="header-actions">
                                <button class="btn-filter" onclick="showFilterModal()">
                                      üìä Filter Reports
                                </button>
                                <button class="btn-new" onclick="showUploadModal()">
                                      ‚ûï Upload New Report
                                </button>
                          </div>
                    </div>
                    
                    <!-- Reports filter section -->
                    <div class="filter-section">
                          <div class="filter-group">
                                <select id="statusFilter" onchange="filterReports()">
                                      <option value="">All Status</option>
                                      <option value="ready">Ready</option>
                                      <option value="pending">Pending</option>
                                      <option value="reviewed">Reviewed</option>
                                </select>
                          </div>
                          <div class="filter-group">
                                <select id="typeFilter" onchange="filterReports()">
                                      <option value="">All Types</option>
                                      <option value="lab">Lab Test</option>
                                      <option value="xray">X-Ray</option>
                                      <option value="mri">MRI</option>
                                      <option value="ct">CT Scan</option>
                                      <option value="ultrasound">Ultrasound</option>
                                </select>
                          </div>
                          <div class="filter-group">
                                <input type="search" id="searchFilter" placeholder="Search reports..." onkeyup="filterReports()">
                          </div>
                    </div>
                    
                    <!-- Reports table -->
                    <div class="reports-table-container">
                          <table class="reports-table">
                                <thead>
                                      <tr>
                                            <th>üìã Report Name</th>
                                            <th>üß™ Type</th>
                                            <th>üßë‚Äç‚öïÔ∏è Doctor / Department</th>
                                            <th>üìÖ Date Issued</th>
                                            <th>üîÑ Status</th>
                                            <th>üìé Actions</th>
                                      </tr>
                                </thead>
                                <tbody id="reportsTableBody">
                                      <!-- Reports will be populated by JavaScript -->
                                </tbody>
                          </table>
                    </div>
                  </div>
            </div>
      </div>

      <!-- Upload Modal -->
      <div id="uploadModal" class="modal">
            <div class="modal-content">
                  <div class="modal-header">
                        <h3>Upload New Report</h3>
                        <span class="close" onclick="closeUploadModal()">&times;</span>
                  </div>
                  <form id="uploadForm">
                        <div class="form-group">
                              <label for="reportName">Report Name</label>
                              <input type="text" id="reportName" required>
                        </div>
                        <div class="form-row">
                              <div class="form-group">
                                    <label for="reportType">Type</label>
                                    <select id="reportType" required>
                                          <option value="">Select Type</option>
                                          <option value="lab">Lab Test</option>
                                          <option value="xray">X-Ray</option>
                                          <option value="mri">MRI</option>
                                          <option value="ct">CT Scan</option>
                                          <option value="ultrasound">Ultrasound</option>
                                    </select>
                              </div>
                              <div class="form-group">
                                    <label for="reportDoctor">Doctor / Department</label>
                                    <input type="text" id="reportDoctor" required>
                              </div>
                        </div>
                        <div class="form-group">
                              <label for="reportFile">Upload File</label>
                              <input type="file" id="reportFile" accept=".pdf,.jpg,.jpeg,.png" required>
                        </div>
                        <div class="modal-actions">
                              <button type="button" class="btn-secondary" onclick="closeUploadModal()">Cancel</button>
                              <button type="submit" class="btn-primary">Upload Report</button>
                        </div>
                  </form>
            </div>
      </div>

      <!-- Filter Modal -->
      <div id="filterModal" class="modal">
            <div class="modal-content">
                  <div class="modal-header">
                        <h3>Filter Reports</h3>
                        <span class="close" onclick="closeFilterModal()">&times;</span>
                  </div>
                  <div class="filter-options">
                        <div class="form-row">
                              <div class="form-group">
                                    <label>Date Range</label>
                                    <input type="date" id="dateFrom">
                              </div>
                              <div class="form-group">
                                    <label>To</label>
                                    <input type="date" id="dateTo">
                              </div>
                        </div>
                        <div class="form-group">
                              <label>Department</label>
                              <select id="departmentFilter">
                                    <option value="">All Departments</option>
                                    <option value="cardiology">Cardiology</option>
                                    <option value="radiology">Radiology</option>
                                    <option value="pathology">Pathology</option>
                                    <option value="neurology">Neurology</option>
                              </select>
                        </div>
                  </div>
                  <div class="modal-actions">
                        <button type="button" class="btn-secondary" onclick="clearFilters()">Clear All</button>
                        <button type="button" class="btn-primary" onclick="applyFilters()">Apply Filters</button>
                  </div>
            </div>
      </div>
      
      <script>
            // Sample reports data
            const reportsData = [
                  {
                        id: 1,
                        name: "Blood Test - July 2025",
                        type: "lab",
                        typeLabel: "Lab Test",
                        doctor: "Dr. Sharma / Pathology",
                        date: "2025-07-25",
                        status: "ready",
                        file: "blood_test_july.pdf"
                  },
                  {
                        id: 2,
                        name: "Chest X-Ray",
                        type: "xray",
                        typeLabel: "X-Ray",
                        doctor: "Dr. Patel / Radiology",
                        date: "2025-07-20",
                        status: "reviewed",
                        file: "chest_xray.jpg"
                  },
                  {
                        id: 3,
                        name: "Brain MRI Scan",
                        type: "mri",
                        typeLabel: "MRI",
                        doctor: "Dr. Kumar / Neurology",
                        date: "2025-07-18",
                        status: "pending",
                        file: "brain_mri.pdf"
                  },
                  {
                        id: 4,
                        name: "Cardiac CT Scan",
                        type: "ct",
                        typeLabel: "CT Scan",
                        doctor: "Dr. Singh / Cardiology",
                        date: "2025-07-15",
                        status: "ready",
                        file: "cardiac_ct.pdf"
                  },
                  {
                        id: 5,
                        name: "Liver Function Test",
                        type: "lab",
                        typeLabel: "Lab Test",
                        doctor: "Dr. Gupta / Gastroenterology",
                        date: "2025-07-10",
                        status: "reviewed",
                        file: "liver_function.pdf"
                  }
            ];

            let filteredReports = [...reportsData];

            // Update current date and time
            function updateDateTime() {
                  const now = new Date();
                  const options = { 
                        weekday: 'long', 
                        year: 'numeric', 
                        month: 'long', 
                        day: 'numeric',
                        hour: '2-digit',
                        minute: '2-digit'
                  };
                  document.getElementById('currentDateTime').textContent = now.toLocaleDateString('en-US', options);
            }

            // Populate reports table
            function populateReportsTable(reports = filteredReports) {
                  const tbody = document.getElementById('reportsTableBody');
                  tbody.innerHTML = '';

                  if (reports.length === 0) {
                        tbody.innerHTML = '<tr><td colspan="6" class="no-reports">No reports found</td></tr>';
                        return;
                  }

                  reports.forEach(report => {
                        const row = document.createElement('tr');
                        row.innerHTML = `
                              <td class="report-name">${report.name}</td>
                              <td class="report-type">
                                    <span class="type-badge type-${report.type}">${report.typeLabel}</span>
                              </td>
                              <td class="report-doctor">${report.doctor}</td>
                              <td class="report-date">${formatDate(report.date)}</td>
                              <td class="report-status">
                                    <span class="status-badge status-${report.status}">${getStatusLabel(report.status)}</span>
                              </td>
                              <td class="report-actions">
                                    <button class="action-btn view-btn" onclick="viewReport(${report.id})" title="View">üëÅÔ∏è</button>
                                    <button class="action-btn download-btn" onclick="downloadReport(${report.id})" title="Download">‚¨áÔ∏è</button>
                                    <button class="action-btn share-btn" onclick="shareReport(${report.id})" title="Share">üì§</button>
                              </td>
                        `;
                        tbody.appendChild(row);
                  });
            }

            // Format date
            function formatDate(dateString) {
                  const date = new Date(dateString);
                  return date.toLocaleDateString('en-US', { 
                        year: 'numeric', 
                        month: 'short', 
                        day: 'numeric' 
                  });
            }

            // Get status label
            function getStatusLabel(status) {
                  switch(status) {
                        case 'ready': return 'Ready';
                        case 'pending': return 'Pending';
                        case 'reviewed': return 'Reviewed';
                        default: return status;
                  }
            }

            // Filter reports
            function filterReports() {
                  const statusFilter = document.getElementById('statusFilter').value;
                  const typeFilter = document.getElementById('typeFilter').value;
                  const searchFilter = document.getElementById('searchFilter').value.toLowerCase();

                  filteredReports = reportsData.filter(report => {
                        const matchesStatus = !statusFilter || report.status === statusFilter;
                        const matchesType = !typeFilter || report.type === typeFilter;
                        const matchesSearch = !searchFilter || 
                              report.name.toLowerCase().includes(searchFilter) ||
                              report.doctor.toLowerCase().includes(searchFilter);

                        return matchesStatus && matchesType && matchesSearch;
                  });

                  populateReportsTable(filteredReports);
            }

            // Report actions
            function viewReport(id) {
                  const report = reportsData.find(r => r.id === id);
                  alert(`Viewing report: ${report.name}`);
                  // In a real app, this would open the report in a viewer
            }

            function downloadReport(id) {
                  const report = reportsData.find(r => r.id === id);
                  alert(`Downloading: ${report.file}`);
                  // In a real app, this would trigger file download
            }

            function shareReport(id) {
                  const report = reportsData.find(r => r.id === id);
                  alert(`Sharing report: ${report.name}`);
                  // In a real app, this would open sharing options
            }

            // Modal functions
            function showUploadModal() {
                  document.getElementById('uploadModal').style.display = 'block';
            }

            function closeUploadModal() {
                  document.getElementById('uploadModal').style.display = 'none';
                  document.getElementById('uploadForm').reset();
            }

            function showFilterModal() {
                  document.getElementById('filterModal').style.display = 'block';
            }

            function closeFilterModal() {
                  document.getElementById('filterModal').style.display = 'none';
            }

            function clearFilters() {
                  document.getElementById('statusFilter').value = '';
                  document.getElementById('typeFilter').value = '';
                  document.getElementById('searchFilter').value = '';
                  document.getElementById('dateFrom').value = '';
                  document.getElementById('dateTo').value = '';
                  document.getElementById('departmentFilter').value = '';
                  filterReports();
                  closeFilterModal();
            }

            function applyFilters() {
                  filterReports();
                  closeFilterModal();
            }

            // Upload form submission
            document.getElementById('uploadForm').addEventListener('submit', function(e) {
                  e.preventDefault();
                  
                  const reportName = document.getElementById('reportName').value;
                  const reportType = document.getElementById('reportType').value;
                  const reportDoctor = document.getElementById('reportDoctor').value;
                  const reportFile = document.getElementById('reportFile').files[0];

                  // In a real app, you would upload the file to server
                  console.log('Uploading report:', {
                        name: reportName,
                        type: reportType,
                        doctor: reportDoctor,
                        file: reportFile.name
                  });

                  alert('Report uploaded successfully!');
                  closeUploadModal();
            });

            // Navigation functionality
            document.querySelectorAll('.nav-item').forEach(item => {
                  item.addEventListener('click', function(e) {
                        const href = this.getAttribute('href');
                        
                        // Only prevent default for placeholder links (#)
                        if (href && href !== '#') {
                              return; // Let the browser handle the navigation
                        }
                        
                        e.preventDefault();
                        
                        // Remove active class from all items
                        document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
                        
                        // Add active class to clicked item
                        this.classList.add('active');
                        
                        const page = this.getAttribute('data-page');
                        console.log('Navigating to:', page);
                  });
            });

            // Close modals when clicking outside
            window.onclick = function(event) {
                  const uploadModal = document.getElementById('uploadModal');
                  const filterModal = document.getElementById('filterModal');
                  
                  if (event.target === uploadModal) {
                        closeUploadModal();
                  }
                  if (event.target === filterModal) {
                        closeFilterModal();
                  }
            }

            // Initialize
            updateDateTime();
            setInterval(updateDateTime, 60000); // Update every minute
            populateReportsTable();
      </script>
</body>
</html>